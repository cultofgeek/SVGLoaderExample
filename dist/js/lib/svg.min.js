!function(window){"use strict";function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}function toggleClass(elem,c){var fn=hasClass(elem,c)?removeClass:addClass;fn(elem,c)}var hasClass,addClass,removeClass;"classList"in document.documentElement?(hasClass=function(elem,c){return elem.classList.contains(c)},addClass=function(elem,c){elem.classList.add(c)},removeClass=function(elem,c){elem.classList.remove(c)}):(hasClass=function(elem,c){return classReg(c).test(elem.className)},addClass=function(elem,c){hasClass(elem,c)||(elem.className=elem.className+" "+c)},removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c)," ")});var classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass};"function"==typeof define&&define.amd?define(classie):window.classie=classie}(window),function(window){"use strict";function extend(a,b){for(var key in b)b.hasOwnProperty(key)&&(a[key]=b[key]);return a}function SVGLoader(el,options){this.el=el,this.options=extend({},this.options),extend(this.options,options),this._init()}SVGLoader.prototype.options={speedIn:500,easingIn:mina.linear,animInCallback:function(){},animOutCallback:function(){}},SVGLoader.prototype._init=function(){var s=Snap(this.el.querySelector("svg"));this.path=s.select("path"),this.initialPath=this.path.attr("d");var openingStepsStr=this.el.getAttribute("data-opening");if(this.openingSteps=openingStepsStr?openingStepsStr.split(";"):"",this.openingStepsTotal=openingStepsStr?this.openingSteps.length:0,0!==this.openingStepsTotal){var closingStepsStr=this.el.getAttribute("data-closing")?this.el.getAttribute("data-closing"):this.initialPath;this.closingSteps=closingStepsStr?closingStepsStr.split(";"):"",this.closingStepsTotal=closingStepsStr?this.closingSteps.length:0,this.isAnimating=!1,this.options.speedOut||(this.options.speedOut=this.options.speedIn),this.options.easingOut||(this.options.easingOut=this.options.easingIn)}},SVGLoader.prototype.show=function(){if(this.isAnimating)return!1;this.isAnimating=!0;var self=this,onEndAnimation=function(){classie.addClass(self.el,"pageload-loading")};this._animateSVG("in",onEndAnimation),classie.add(this.el,"show")},SVGLoader.prototype.hide=function(){var self=this;classie.removeClass(this.el,"pageload-loading"),this._animateSVG("out",function(){self.path.attr("d",self.initialPath),classie.removeClass(self.el,"show"),self.isAnimating=!1})},SVGLoader.prototype._animateSVG=function(dir,callback){var self=this,pos=0,steps="out"===dir?this.closingSteps:this.openingSteps,stepsTotal="out"===dir?this.closingStepsTotal:this.openingStepsTotal,speed="out"===dir?self.options.speedOut:self.options.speedIn,easing="out"===dir?self.options.easingOut:self.options.easingIn,nextStep=function(pos){return pos>stepsTotal-1?(callback&&"function"==typeof callback&&callback(),void("out"===dir?self.options.animOutComplete():self.options.animInComplete())):(self.path.animate({path:steps[pos]},speed,easing,function(){nextStep(pos)}),void pos++)};nextStep(pos)},window.SVGLoader=SVGLoader}(window);